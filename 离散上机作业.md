离散上机作业:

1.输入任意的任意输入一个析取范式，计算并输出其主析取范式

```python
#首先让用户输入任意的表达式(中只含析取,合取,以及非)
#用户输入中含有几个变量就代表整个式子中有几个变量,不需要考虑含有未输入的变量
#将用户输入中的字母提取出来,使用正则表达式的findall方法将其取出来
#之后使用sympy里面的symbols方法将这些字母全部转换为真正的变量
#之后使用sympy里面的sympify方法将字符串表达式转换为真正符合语法逻辑的表达式
#之后循环2**len(变量)次,然后将其变为二进制数并使用zfill将数位补齐,然后将其一个一个地赋值给变量,最后得出结果
#如果结果为true则代表此次正确将i的值加入到list里面中去,最后进行打印输出


from sympy import *
import re

def get_var(expression):
    return set(re.findall(r'[a-zA-z]',expression))

def set_var(var:list):
    return symbols(var)

def excall_var(expression):
    expr=sympify(expression)
    return expr

def cal_result(i,expression):
    temp=bin(i)[2:]
    count=len(get_var(expression))
    temp=temp.zfill(count)
    temp_list=list(set_var(sorted(get_var(expression))))
    dict={}
    for j in range(0,len(temp_list)):
        dict[temp_list[j]]=temp[j]
    expr=excall_var(expression)
    result=expr.subs(dict)
    if result==1 or result==true:
        return 1
    else:
        return 0
def main():
    expression=input("请输入命题表达式,使用|代替析取,&代替合取,~代替非:")
    n=len(get_var(expression))
    print("∑",end="")
    list_result=[]
    for i in range(0,2**n):
        if cal_result(i,expression):
            list_result.append(i)
    print(list_result)

if __name__=='__main__':
    main()



```

2.任意输入一个命题公式，计算并输出其真值表以及主析取和主合取范式。

````python
# 基础版
# 首先让用户输入任意的表达式(中只含析取,合取,以及非)
# 用户输入中含有几个变量就代表整个式子中有几个变量,不需要考虑含有未输入的变量
# 将用户输入中的字母提取出来,使用正则表达式的findall方法将其取出来
# 之后使用sympy里面的symbols方法将这些字母全部转换为真正的变量
# 之后使用sympy里面的sympify方法将字符串表达式转换为真正符合语法逻辑的表达式
# 之后循环2**len(变量)次,然后将其变为二进制数并使用zfill将数位补齐,然后将其一个一个地赋值给变量,最后得出结果
# 如果结果为true则代表此次正确将i的值加入到list里面中去,最后进行打印输出

from sympy import *
import re

def get_var(expression):
    return set(re.findall(r'[a-zA-z]',expression))

def set_var(var:list):
    return symbols(var)

def excall_var(expression):
    expr=sympify(expression)
    return expr

def cal_result(i,expression):
    temp=bin(i)[2:]
    count=len(get_var(expression))
    temp=temp.zfill(count)
    temp_list=list(set_var(sorted(get_var(expression))))
    dict={}
    for j in range(0,len(temp_list)):
        dict[temp_list[j]]=temp[j]
    expr=excall_var(expression)
    result=expr.subs(dict)
    if result==1 or result==true:
        return 1
    else:
        return 0
def main():
    expression=input("请输入命题表达式,使用|代替析取,&代替合取,~代替非,>>代替单条件,^代替间或,==代替等值:")
    n=len(get_var(expression))
    print("∑",end="")
    list_result=[]
    for i in range(0,2**n):
        if cal_result(i,expression):
            list_result.append(i)
    print(list_result)

if __name__=='__main__':
    main()



````

